import{a as A,h as R}from"./components.38f1d302.js";import{t as B}from"./shared.506a394a.js";import{F as L,u as T}from"./provide.515f51d9.js";import{L as U}from"./index.9e43ebc8.js";import{R as W}from"./index.f8492b74.js";import{_ as E}from"./elevation.229458c1.js";import{d as H,b as M,z as P,e as N,f as j,o as w,c as z,a as b,n as h,p as c,w as q,l as G,h as I,i as J}from"./vendor.49f89f0d.js";const K={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String},loadingColor:{type:String},closeColor:{type:String},size:{type:[String,Number],default:20},rules:{type:Array},ripple:{type:Boolean,default:!0},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}};const{n:O,classes:Q}=R("switch"),X=H({name:"VarSwitch",components:{VarLoading:U,VarFormDetails:L},directives:{Ripple:W},props:K,setup(e){const{bindForm:n,form:a}=T(),{errorMessage:d,validateWithTrigger:$,validate:k,resetValidation:m}=A(),g=()=>k(e.rules,e.modelValue),y=()=>P(()=>$(["onChange"],"onChange",e.rules,e.modelValue)),f=M(()=>{const{size:s,modelValue:l,color:i,closeColor:u,loadingColor:p,activeValue:t}=e,o=B(s),r=o*2,v=o*1.2;return{handle:{width:`${s}px`,height:`${s}px`,backgroundColor:l===t?i||"":u||"",color:p&&p},ripple:{left:l===t?`${o/2}px`:`-${o/2}px`,color:l===t?i||"":u||"#999",width:`${o*2}px`,height:`${o*2}px`},track:{height:`${v*.6}px`,width:`${r-2}px`,borderRadius:`${r/3}px`,filter:l===t||(d==null?void 0:d.value)?"opacity(.6)":"brightness(.6)",backgroundColor:l===t?i||"":u||""},switch:{height:`${v}px`,width:`${r}px`}}}),D=s=>{const{onClick:l,onChange:i,disabled:u,loading:p,readonly:t,modelValue:o,activeValue:r,inactiveValue:v,"onUpdate:modelValue":V}=e;if(l==null||l(s),u||p||t||(a==null?void 0:a.disabled.value)||(a==null?void 0:a.readonly.value))return;const S=o===r?v:r;i==null||i(S),V==null||V(S),y()},F={reset:()=>{var s;(s=e["onUpdate:modelValue"])==null||s.call(e,e.inactiveValue),m()},validate:g,resetValidation:m};return n==null||n(F),{n:O,classes:Q,switchActive:D,toNumber:B,styleComputed:f,errorMessage:d,formDisabled:a==null?void 0:a.disabled,formReadonly:a==null?void 0:a.readonly}}});function Y(e,n,a,d,$,k){const m=N("var-loading"),g=N("var-form-details"),y=j("ripple");return w(),z("div",{class:c(e.classes(e.n()))},[b("div",{class:c([e.disabled||e.formDisabled?e.classes(e.n("disable")):null,"var-switch-block"]),onClick:n[0]||(n[0]=(...f)=>e.switchActive&&e.switchActive(...f)),style:h(e.styleComputed.switch)},[b("div",{style:h(e.styleComputed.track),class:c([e.modelValue===e.activeValue?e.classes(e.n("track-active")):null,e.errorMessage?e.classes(e.n("track-error")):null,e.classes(e.n("track"))])},null,6),q((w(),z("div",{class:c(e.classes(e.n("ripple"))),style:h(e.styleComputed.ripple)},[b("div",{style:h(e.styleComputed.handle),class:c([e.modelValue===e.activeValue?e.classes(e.n("handle-active")):null,e.errorMessage?e.classes(e.n("handle-error")):null,e.classes(e.n("handle")),"var-elevation--2"])},[e.loading?(w(),G(m,{key:0,radius:e.toNumber(e.size)/2-2},null,8,["radius"])):I("v-if",!0)],6)],6)),[[y,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled}]])],6),J(g,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var C=E(X,[["render",Y]]);C.install=function(e){e.component(C.name,C)};export{C as S};
